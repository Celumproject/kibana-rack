{"name":"kibana-rack","tagline":"Embed Kibana as a Rack application","body":"[![Kibana Version](https://img.shields.io/badge/kibana%20version-3.1.0-orange.svg)](http://www.elasticsearch.org/overview/kibana/)\r\n[![Gem Version](https://img.shields.io/gem/v/kibana-rack.svg)](https://rubygems.org/gems/kibana-rack)\r\n[![Dependency Status](https://gemnasium.com/tabolario/kibana-rack.svg)](https://gemnasium.com/tabolario/kibana-rack)\r\n[![Build Status](https://travis-ci.org/tabolario/kibana-rack.svg?branch=master)](https://travis-ci.org/tabolario/kibana-rack)\r\n[![Code Climate](https://img.shields.io/codeclimate/github/tabolario/kibana-rack.svg)](https://codeclimate.com/github/tabolario/kibana-rack)\r\n[![Coverage Status](https://img.shields.io/coveralls/tabolario/kibana-rack.svg)](https://coveralls.io/r/tabolario/kibana-rack?branch=master)\r\n[![Inline docs](http://inch-ci.org/github/tabolario/kibana-rack.svg)](http://inch-ci.org/github/tabolario/kibana-rack)\r\n\r\nEmbed [Kibana](http://www.elasticsearch.org/overview/kibana/) as a [Rack](http://rack.github.io/) application.\r\n\r\nFrom the [Kibana readme](https://github.com/elasticsearch/kibana/blob/master/README.md):\r\n\r\n> Kibana is an open source (Apache Licensed), browser based analytics and search interface to Logstash and other timestamped data sets stored in ElasticSearch. With those in place Kibana is a snap to setup and start using (seriously). Kibana strives to be easy to get started with, while also being flexible and powerful\r\n\r\nkibana-rack tracks the latest version of Kibana (currently 3.1.0) and embeds it directly in your application, along with a proxy for the Elasticsearch API endpoints that Kibana needs.\r\n\r\n[Kibana dashboards](http://www.elasticsearch.org/guide/en/kibana/current/_dashboard_schema.html) can be created using ERB-processed JSON files in the directory specified by your kibana-rack configuration.\r\n\r\n## Requirements\r\n\r\n* Ruby 2.1+ (kibana-rack is developed and tested with Ruby 2.1.2)\r\n\r\n### Kibana requirements (also from the Kibana readme)\r\n\r\n* Elasticsearch 0.90.9 or above\r\n* A modern web browser. The latest version of Chrome, Safari and Firefox have all been tested to work. IE9 and greater should work. IE8 does not.\r\n* A webserver. No extensions are required, as long as it can serve plain html it will work\r\n* A browser reachable Elasticsearch server. Port 9200 must be open, or a proxy configured to allow access to it. (**kibana-rack takes care of this for you!**)\r\n\r\n## Installation\r\n\r\nAdd this line to your application's Gemfile:\r\n\r\n    gem 'kibana-rack', '~> 0.1.0'\r\n\r\nAnd then execute:\r\n\r\n    $ bundle\r\n\r\n### Rails\r\n\r\n**Note: kibana-rails is coming soon!**\r\n\r\nCreate an initializer at `config/initializers/kibana.rb` to configure kibana-rack:\r\n\r\n```ruby\r\nKibana.configure do |config|\r\n  config.elasticsearch_host = 'localhost'\r\n  config.elasticsearch_port = 9200\r\n  config.kibana_dashboards_path = Rails.root.join('app/kibana')\r\n  config.kibana_default_route = '/dashboard/file/default.json'\r\n  config.kibana_index = 'kibana-int'\r\nend\r\n```\r\n\r\nModify `config/routes.rb`:\r\n\r\n```ruby\r\nRails.application.routes.draw do\r\n  mount Kibana::Rack::Web => '/kibana'\r\nend\r\n```\r\n\r\n### Sinatra and other Rack applications\r\n\r\nConfigure kibana-rack:\r\n\r\n```ruby\r\nKibana.configure do |config|\r\n  config.elasticsearch_host = 'localhost'\r\n  config.elasticsearch_port = 9200\r\n  config.kibana_dashboards_path = File.expand_path('../path/to/dashboards', __FILE__)\r\n  config.kibana_default_route = '/dashboard/file/default.json'\r\n  config.kibana_index = 'kibana-int'\r\nend\r\n```\r\n\r\nMount kibana-rack with [Rack::Builder](http://rubydoc.info/github/rack/rack/master/Rack/Builder):\r\n\r\n```ruby\r\nclass MyRackApplication < Sinatra::Base\r\n  ...\r\nend\r\n\r\napp = Rack::Builder.new do\r\n  map('/kibana') { use Kibana::Rack::Web }\r\n  run MyRackApplication\r\nend\r\n\r\nrun app\r\n```\r\n\r\n## Usage\r\n\r\nSee the [Kibana documentation](http://www.elasticsearch.org/guide/en/kibana/current/index.html) for information on how to use Kibana.\r\n\r\n## Configuration\r\n\r\nkibana-rack is configured by default to serve the dashboards that come in the gem (see the [dashboards](https://github.com/tabolario/kibana-rack/tree/master/dashboards) directory), and proxy to Elasticsearch on `localhost:9200`. It is recommended that you maintain your own dashboards directory inside of the application that kibana-rack is mounted in. Production deployments will also most likely need to configure the address of Elasticsearch.\r\n\r\nThe following settings are available as accessors on the object yielded to from `Kibana.configure`:\r\n\r\n```ruby\r\nKibana.configure do |config|\r\n  config.elasticsearch_host = '10.0.8.9'\r\n  ...\r\nend\r\n```\r\n\r\n| Name                     | Description                                                                                     |\r\n| ------------------------ | ----------------------------------------------------------------------------------------------- |\r\n| `elasticsearch_host`     | The host of the Elasticsearch instance to proxy to. Default: `localhost`                        |\r\n| `elasticsearch_port`     | The port of the Elasticsearch instance to proxy to. Default: `9200`                             |\r\n| `kibana_dashboards_path` | The directory to look for dashboards in. Default: `dashboards` directory inside of kibana-rack  |\r\n| `kibana_default_route`   | The default path that Kibana will load. Default: `/dashboard/file/default.json`                 |\r\n| `kibana_index`           | The name of the Elasticsearch index Kibana will use for internal storage. Default: `kibana-int` |\r\n\r\n## Securing the `/kibana` endpoint\r\n\r\nKibana is very useful to have in production for things like searching logs and exploring Elasticsearch indexes. When using kibana-rack in a production environment, be sure to secure it from unauthorized access.\r\n\r\n### Devise\r\n\r\nIn `config/routes.rb`:\r\n\r\n```ruby\r\nauthenticate :user do\r\n  mount Kibana::Rack::Web => '/kibana'\r\nend\r\n```\r\n\r\nOr authenticate only if `User#admin?` returns true for `current_user`:\r\n\r\n```ruby\r\nauthenticate :user, ->(user) { user.admin? } do\r\n  mount Kibana::Rack::Web => '/kibana'\r\nend\r\n```\r\n\r\n### Rack with HTTP basic authentication\r\n\r\n```ruby\r\nrequire 'kibana/rack'\r\n\r\nmap '/kibana' do\r\n  use Rack::Auth::Basic, 'Restricted Access' do |username, password|\r\n    username == 'kibana' && password == 'kibana'\r\n  end\r\n\r\n  run Kibana::Rack::Web\r\nend\r\n```\r\n\r\n## Documentation\r\n\r\nSee the [examples](https://github.com/tabolario/kibana-rack/tree/master/examples) directory for installation and configuration examples.\r\n\r\nSee the [YARD documentation](http://rdoc.info/github/tabolario/kibana-rack) for the latest API documentation.\r\n\r\nGenerate local documentation with YARD (output to the `doc` directory):\r\n\r\n    $ bundle exec rake yard\r\n\r\n## Support\r\n\r\n* [GitHub Issues](https://github.com/tabolario/kibana-rack/issues)\r\n* Email: [tony@tabolario.com](mailto:tony@tabolario.com)\r\n* Twitter: [@tabolario](https://twitter.com/tabolario)\r\n\r\n## Development and testing\r\n\r\nkibana-rack follows the [Ruby Style Guide](https://github.com/bbatsov/ruby-style-guide) for style conventions, with a few exceptions. See [.rubocop.yml](https://github.com/tabolario/kibana-rack/blob/master/.rubocop.yml) for the details.\r\n\r\nRun linters ([RuboCop](https://github.com/bbatsov/rubocop) and [Inch](https://github.com/rrrene/inch)):\r\n\r\n    $ bundle exec rake lint\r\n\r\nRun tests:\r\n\r\n    $ bundle exec rake spec\r\n\r\nInstall pre-commit hooks for [overcommit](https://github.com/causes/overcommit) (configuration is in [.overcommit.yml](https://github.com/tabolario/kibana-rack/blob/master/.overcommit.yml)):\r\n\r\n    $ gem install overcommit\r\n    $ overcommit --install\r\n\r\n## Security\r\n\r\n### Installation\r\n\r\nkibana-rack is cryptographically signed. To be sure the gem you install hasn't been tampered with, add my public key (if you haven't already) as a trusted certificate:\r\n\r\n    $ gem cert --add <(curl -Ls https://raw.github.com/tabolario/kibana-rack/master/tabolario.pem)\r\n\r\nInstalling the gem with the MediumSecurity trust profile will verify all signed gems, but allow the installation of unsigned dependencies:\r\n\r\n    $ gem install kibana-rack -P MediumSecurity\r\n\r\nYou can also set the trust file for Bundler:\r\n\r\n    $ bundle --trust-policy MediumSecurity\r\n\r\nUsing the MediumSecurity policy is often necessary because not all of your dependencies may not be signed, so HighSecurity is not an option.\r\n\r\n### Reporting Security Issues\r\n\r\nIf you have discovered an issue with kibana-rack of a sensitive nature that could compromise the security of kibana-rack users, **please report it securely by sending a GPG-encrypted message instead of filing an issue on GitHub**. Please use the following key and send your report to [tony@tabolario.com](mailto:tony@tabolario.com).\r\n\r\n[https://raw.github.com/tabolario/kibana-rack/tabolario.gpg](https://raw.github.com/tabolario/kibana-rack/tabolario.gpg)\r\n\r\nThe fingerprint of the key should be:\r\n\r\n    6EED 2359 968F 7734 06A4 AB56 D90E 487A 60F1 0579\r\n\r\n## Contributing\r\n\r\nSee [CONTRIBUTING.md](https://github.com/tabolario/kibana-rack/blob/master/CONTRIBUTING.md) for full information on how to contribute to kibana-rack.\r\n\r\n## Release process\r\n\r\nkibana-rack follows [Semver 2.0.0](http://semver.org/spec/v2.0.0.html) for release versioning. The version number components X.Y.Z have the following meanings:\r\n\r\n* X for **Major** releases that may contain backwards-incompatible changes.\r\n* Y for **Minor** releases that may contain features, bug fixes, and backwards-compatible changes.\r\n* Z for **Patch** releases that only contain bug fixes and trivial changes.\r\n\r\n**Pre-release** versions like `X.Y.Z.alpha.0` and `X.Y.Z.beta.1` will be made before **Major**, and **Minor** versions. Pre-release versions are well-tested, but not as thoroughly as the versions that they precede.\r\n\r\nWhenever a new version is made, it will be tagged as a release on [GitHub Releases](https://github.com/tabolario/kibana-rack/releases) and pushed to [RubyGems](https://rubygems.org/gems/kibana-rack). Entries in [CHANGELOG.md](https://github.com/tabolario/kibana-rack/blob/master/CHANGELOG.md) will be made incrementally up to the release. An announcement will also be made on Twitter.\r\n\r\nWhen a new **Major** version is made, a corresponding branch will be created named `X-0-0` for further **Minor** and **Patch** releases on that version.\r\n\r\n## Todo\r\n\r\nSee the [issue tracker](https://github.com/tabolario/kibana-rack/issues?q=is%3Aopen+is%3Aissue+label%3Atodo) for the current list of todos.\r\n\r\n## License\r\n\r\n### kibana-rack\r\n\r\n|               |                                                                           |\r\n| ------------- | ------------------------------------------------------------------------- |\r\n| **Author**    | Tony Burns <[tony@tabolario.com](mailto:tony@tabolario.com)>              |\r\n| **Copyright** | Copyright (c) 2014 Tony Burns                                             |\r\n| **License**   | [MIT License](http://opensource.org/licenses/MIT)                         |\r\n\r\n```text\r\nMIT License\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining\r\na copy of this software and associated documentation files (the\r\n\"Software\"), to deal in the Software without restriction, including\r\nwithout limitation the rights to use, copy, modify, merge, publish,\r\ndistribute, sublicense, and/or sell copies of the Software, and to\r\npermit persons to whom the Software is furnished to do so, subject to\r\nthe following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be\r\nincluded in all copies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\nLIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\nOF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\nWITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n```\r\n\r\n### Kibana\r\n\r\n|               |                                                                           |\r\n| ------------- | ------------------------------------------------------------------------- |\r\n| **Copyright** | Copyright 2012-2013 Elasticsearch BV                                      |\r\n| **License**   | [Apache License, Version 2.0](http://www.apache.org/licenses/LICENSE-2.0) |\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}